# habitmate

  저희가 개발한 '차세대 챌린지 플랫폼'은 단순한 보상 시스템을 넘어, XRPL이 제공하는 최신 기능인 Credential, Batch, Escrow를 핵심 로직에 깊숙이 통합하여 전례 없는 수준의 투명성,
  자동화, 그리고 신뢰를 구축한 프로젝트입니다.

  저희 프로젝트가 XRPL의 기술을 어떻게 혁신적으로 활용했는지 세 가지 핵심 기능을 중심으로 설명해 드리겠습니다. 모든 XRPL 관련 로직은 src/main/java/com/example/xrpl/xrpl/ 모듈에
  구현되어 있으며, 다른 서비스 모듈과는 이벤트 기반 아키텍처로 유기적으로 동작합니다.

  ##1. Credential: 온체인에서 증명되는 사용자의 성취

  저희는 사용자의 성취(예: 챌린지 100% 달성)를 단순한 데이터베이스 기록이 아닌, 블록체인 상에서 증명 가능한 자격으로 만들고 싶었습니다. 이를 위해 XRPL의 Credential 기능을
  도입했습니다.

   * 창의적 구현: 현재 xrpl4j 라이브러리에서는 Credential 트랜잭션이 공식 지원되지 않는다는 한계가 있었습니다. 저희는 이 문제를 해결하기 위해, Payment 트랜잭션의 'Memo' 필드를 활용하여 
     Credential 발급 및 수락을 시뮬레이션하는 독창적인 방법을 구현했습니다. (XRPLServiceImpl.java의 createCredential, acceptCredential 참조)
   * 활용 사례: 챌린지를 성공적으로 마친 사용자에게 '챌린지 완료 증명서(Challenge Completion Credential)'를 발급합니다. 이는 향후 다른 챌린지 참여 시 혜택을 주거나, 사용자의 평판을
     나타내는 중요한 디지털 자산으로 활용될 수 있습니다.
   * 미래 확장성: 이 설계는 향후 XRPL에서 Credential 기능이 정식으로 출시되었을 때, 최소한의 코드 수정만으로 즉시 마이그레이션할 수 있도록 고려되었습니다.

  ##2. Escrow: 신뢰가 필요 없는 안전한 참가비 예치

  챌린지 참가비를 중앙 운영 주체가 직접 보관하는 것은 신뢰 문제를 야기할 수 있습니다. 저희는 이 문제를 XRPL의 Escrow 기능으로 완벽하게 해결했습니다.

   * 자동화된 자금 흐름: 사용자가 챌린지에 참여하면, 참가비는 저희 프로젝트의 중앙 지갑이 아닌 XRPL 네트워크의 Escrow 계정으로 자동 예치됩니다. 이는 운영 주체의 개입 없이 자금이
     투명하고 안전하게 보관됨을 보장합니다.
   * 이벤트 기반 실행: 챌린지 기간이 종료되면, 시스템은 ChallengeCompletedEvent라는 이벤트를 발행합니다. XRPLEventListener는 이 이벤트를 감지하여, 해당 챌린지에 참여한 모든 사용자의
     Escrow를 자동으로 완료(complete)시키는 프로세스를 트리거합니다.

  ##3. Batch: 대규모 처리를 위한 효율성의 극대화

  수백, 수천 명이 참여하는 챌린지에서 Escrow 완료 및 보상 지급을 하나씩 처리하는 것은 매우 비효율적입니다. 저희는 Batch(일괄 처리) 개념을 도입하여 이 문제를 해결했습니다.

   * 두 가지 핵심 Batch 로직:
       1. Escrow 일괄 완료 (`completeBatchEscrow`): 챌린지 종료 시, XRPLEventListener는 모든 참여자의 Escrow 정보를 모아 한 번의 로직 흐름 안에서 순차적으로 완료시킵니다. 이는 정산
          과정을 완전히 자동화합니다.
       2. 환급금 일괄 지급 (`sendBatchPayment`): 저희 플랫폼은 '70% 이상 인증 성공 시 참가비의 70% 환급'과 같은 규칙을 가지고 있습니다. 챌린지 종료 후, 환급 대상자들을 선별하여
          sendBatchPayment를 통해 여러 명에게 동시에 XRP를 지급합니다.

   * 운영 효율성 및 사용자 경험 향상: 이 Batch 기능은 수동 개입을 없애고, 트랜잭션 처리에 드는 시간과 비용을 획기적으로 줄여줍니다. 결과적으로 사용자는 챌린지 종료 후 거의 즉시 정확한
     보상을 받을 수 있습니다.

  ##결론

  저희 프로젝트는 단순히 XRPL을 결제 수단으로 사용한 것을 넘어, Credential의 가능성을 탐색하고, Escrow로 신뢰를 확보하며, Batch 처리로 운영 효율성을 극대화하는 유기적인 시스템을
  구축했다는 점에서 혁신성을 갖습니다. 이는 XRPL의 최신 기술을 통해 더 확장 가능하고 신뢰도 높은 블록체인 생태계를 만들고자 하는 저희의 비전을 명확히 보여주는 결과물입니다.

  감사합니다.
